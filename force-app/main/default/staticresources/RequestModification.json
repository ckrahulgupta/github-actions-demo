[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v42.0/sobjects/skuid__Page__c/a6O8M000000GszWUAS"},"Id":"a6O8M000000GszWUAS","Name":"RequestModification","skuid__API_Version__c":"v1","skuid__Type__c":"Desktop","skuid__UniqueId__c":"_RequestModification","skuid__Module__c":null,"skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"yes\" personalizationmode=\"server\" showsidebar=\"true\" showheader=\"true\">\n\t<models><model id=\"RequestModificationCatagory\" limit=\"20\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" sobject=\"genesis__Application_Note__c\"><fields><field id=\"genesis__Application__r.genesis__Loan_Number__c\"/><field id=\"Current_Loan_Amount__c\"/><field id=\"Current_Maturity_Date__c\"/><field id=\"Modified_Maturity_Date__c\"/><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"Status__c\"/><field id=\"Updated_Loan_Amount__c\"/></fields><conditions><condition type=\"param\" value=\"id\" field=\"genesis__Application__c\" operator=\"=\" mergefield=\"Id\" enclosevalueinquotes=\"true\" fieldtargetobjects=\"genesis__Applications__c\" inactive=\"false\"/></conditions><actions/></model></models>\n\t<components><panelset type=\"standard\" uniqueid=\"sk-zv-302\"><panels><panel><components><wrapper uniqueid=\"sk-_A-318\"><components><buttonset uniqueid=\"sk-1T7-348\"><buttons><button type=\"multi\" label=\"Approve\" uniqueid=\"sk-1T8-354\"><actions><action type=\"custom\" snippet=\"ApproveRequest\"/></actions><hotkeys/><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\"/></button><button type=\"multi\" uniqueid=\"sk-1T8-358\" label=\"Decline\"><actions><action type=\"custom\" snippet=\"RejectRequest\"/></actions><hotkeys/><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\"/></button><button type=\"multi\" uniqueid=\"sk-Q_w-543\" label=\"Edit\"><actions><action type=\"showPopup\"><popup width=\"90%\"><components><includepanel type=\"skuid\" uniqueid=\"sk-REe-401\" pagename=\"UpdateRequestModification\" querystring=\"?id={{$Model.RequestModificationCatagory.data.0.genesis__Application__c}}\"/></components><afterclose><action type=\"custom\" snippet=\"reloadScreen\"/></afterclose></popup></action></actions><hotkeys/><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\"/></button></buttons></buttonset><skootable showconditions=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" searchmethod=\"server\" searchbox=\"false\" showexportbuttons=\"false\" hideheader=\"false\" hidefooter=\"false\" pagesize=\"10\" alwaysresetpagination=\"false\" createrecords=\"false\" buttonposition=\"\" mode=\"read\" allowcolumnreordering=\"true\" responsive=\"true\" uniqueid=\"sk-14c-363\" model=\"RequestModificationCatagory\" instantfilters=\"false\" emptysearchbehavior=\"query\" hideconfigbutton=\"true\"><fields><field id=\"genesis__Application__r.genesis__Loan_Number__c\" hideable=\"true\" uniqueid=\"fi-170-1159\"/><field id=\"Current_Maturity_Date__c\" hideable=\"true\" uniqueid=\"fi-1Ie-1250\"/><field id=\"Modified_Maturity_Date__c\" hideable=\"true\" uniqueid=\"fi-1Ie-1251\"/><field id=\"Current_Loan_Amount__c\" hideable=\"true\" uniqueid=\"fi-170-1157\"/><field id=\"Updated_Loan_Amount__c\" hideable=\"true\" uniqueid=\"fi-14by-681\"><label>Modified Loan Amount</label></field><field id=\"Status__c\" hideable=\"true\" uniqueid=\"fi-lFh-372\"/></fields><rowactions/><massactions usefirstitemasdefault=\"true\"/><views/><actions defaultlabel=\"Global Actions\" defaulticon=\"sk-icon-magic\" usefirstitemasdefault=\"true\"/><searchfields/><renderconditions logictype=\"and\"/></skootable></components><styles><styleitem type=\"background\"/><styleitem type=\"border\"/><styleitem type=\"size\"/></styles></wrapper></components></panel></panels></panelset></components>\n\t<resources>\n\t\t<labels/>\n\t\t<javascript><jsitem location=\"inlinesnippet\" cachelocation=\"false\" name=\"ApproveRequest\">var params = arguments[0],\n\t$ = skuid.$;\nvar appApplicationModel = skuid.model.getModel('RequestModificationCatagory');\nvar appApplicationRow = appApplicationModel.data[0];\n var callback = {\n    onSuccess:function(result)\n    {   console.log(result);\n        if(result[0] == \"Modification request has been updated successfully and email has been sent.\")\n        {\n            alert(result);\n            //$.unblockUI();\n            skuid.model.updateData([appApplicationModel],function(){\n        $.unblockUI();\n    });\n        } else if(result[0] == \"Failed to Update the modification request.Please try after sometime.\")\n        {\n            alert(result);\n           // $.unblockUI();\n           skuid.model.updateData([appApplicationModel],function(){\n        $.unblockUI();\n    });\n        }\n        else{\n            console.log(result[0]);\n            return displayMessage(result[0], 'ERROR');\n        }\n        //window.location.reload(true);\n        skuid.model.updateData([appApplicationModel],function(){\n        $.unblockUI();\n    });\n    },\n    onFailure:function(error)\n    {\n        $.unblockUI();\n        alert(error);\n        console.log(error);\n    }\n};\n\nvar displayMessage = function (message, severity) {\n    if(severity === 'ERROR') {\n        console.log('error');\n        $.unblockUI();\n        return false;\n    }\n};\n$.blockUI({\n    message: 'Please Wait while we are processing the modification request...',\n    onBlock:function(){\n        var result = sforce.apex.execute('ApplicationModificationRequestAPI','modificationRequestWS',\n        {\n            appId : appApplicationRow.genesis__Application__c,\n            modificationStatus : 'Approved'\n        },callback);\n    }\n});</jsitem><jsitem location=\"inlinesnippet\" name=\"RejectRequest\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\nvar appApplicationModel = skuid.model.getModel('RequestModificationCatagory');\nvar appApplicationRow = appApplicationModel.data[0];\n var callback = {\n    onSuccess:function(result)\n    {   console.log(result);\n        if(result[0] == \"Loan Amount Modification request has been successfully decline and email has been sent.\")\n        {\n            alert(result);\n            //$.unblockUI();\n            skuid.model.updateData([appApplicationModel],function(){\n        $.unblockUI();\n    });\n        } else if(result[0] == \"Maturity Date Modification request has been successfully decline and email has been sent.\")\n        {\n            alert(result);\n            //$.unblockUI();\n            skuid.model.updateData([appApplicationModel],function(){\n        $.unblockUI();\n    });\n        }\n        else{\n            console.log(result[0]);\n            return displayMessage(result[0], 'ERROR');\n        }\n        //window.location.reload(true);\n        skuid.model.updateData([appApplicationModel],function(){\n        $.unblockUI();\n    });\n    },\n    onFailure:function(error)\n    {\n        $.unblockUI();\n        alert(error);\n        console.log(error);\n    }\n};\n\nvar displayMessage = function (message, severity) {\n    if(severity === 'ERROR') {\n        console.log('error');\n        $.unblockUI();\n        return false;\n    }\n};\n$.blockUI({\n    message: 'Please Wait while we are processing the modification request...',\n    onBlock:function(){\n        var result = sforce.apex.execute('ApplicationModificationRequestAPI','modificationRequestWS',\n        {\n            appId : appApplicationRow.genesis__Application__c,\n            modificationStatus : 'Declined'\n        },callback);\n    }\n});</jsitem><jsitem location=\"inlinesnippet\" name=\"reloadScreen\" cachelocation=\"false\">var params = arguments[0],\n\t$ = skuid.$;\nvar appApplicationModel = skuid.model.getModel('RequestModificationCatagory');\nskuid.model.updateData([appApplicationModel]);</jsitem></javascript>\n\t\t<css/>\n\t\t<actionsequences uniqueid=\"sk-16R-1078\"/>\n\t</resources>\n\t<styles>\n\t\t<styleitem type=\"background\" bgtype=\"none\"/>\n\t</styles>\n</skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]